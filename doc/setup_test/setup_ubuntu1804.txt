Script started on 2018-06-28 19:23:25+0000
]0;root@tubuntu1804: ~root@tubuntu1804:~# cd /opt
]0;root@tubuntu1804: /optroot@tubuntu1804:/opt# ls -l
total 0
]0;root@tubuntu1804: /optroot@tubuntu1804:/opt# vi /etc/ssh/sshd_config 
[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;20r[?12h[?12l[27m[23m[29m[m[H[2J[?25l[20;1H"/etc/ssh/sshd_config" 122L, 3264C[2;1Hâ–½[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m#       $OpenBSD: sshd_config,v 1.101 2017/03/14 07:19:07 djm Exp $

# This is the sshd server system-wide configuration file.  See
# sshd_config(5) for more information.

# This sshd was compiled with PATH=/usr/bin:/bin:/usr/sbin:/sbin

# The strategy used for options in the default sshd_config shipped with
# OpenSSH is to specify options with their default value where
# possible, but leave them commented.  Uncommented options override the
# default value.

#Port 22
#AddressFamily any
#ListenAddress 0.0.0.0
#ListenAddress ::

#HostKey /etc/ssh/ssh_host_rsa_key
#HostKey /etc/ssh/ssh_host_ecdsa_key[m[20;60H1,1[11CTop[1;1H[?25hP+q436f\P+q6b75\P+q6b64\P+q6b72\P+q6b6c\P+q2332\P+q2334\P+q2569\P+q2a37\P+q6b31\[?25l[20;50H/[1;1H[20;1H[K[20;1H/[?2004h[?25hr[?25l[3;22H[7m[34mr[m[20;60H3,22[10CTop[20;60H[K[20;3H[?25ho[?25l[27m[23m[29m[m[H[2J[1;1H[34m#RekeyLimit default none

# Logging
#SyslogFacility AUTH
#LogLevel INFO

# Authentication:

#LoginGraceTime 2m
#PermitRootLogin p[m[7m[34mro[m[34mhibit-password
#StrictModes yes
#MaxAuthTries 6
#MaxSessions 10

#PubkeyAuthentication yes

# Expect .ssh/authorized_keys2 to be disregarded by default in future.
#AuthorizedKeysFile     .ssh/authorized_keys .ssh/authorized_keys2[m[20;60H32,19[9C21%/ro[20;60H[K[20;4H[?25ho[?25l[27m[23m[29m[m[H[2J[1;1H[34m#UseLogin no
#PermitUserEnvironment no
#Compression delayed
#ClientAliveInterval 0
#ClientAliveCountMax 3
#UseDNS no
#PidFile /var/run/sshd.pid
#MaxStartups 10:30:100
#PermitTunnel no
#Ch[m[7m[34mroo[m[34mtDirectory none
#VersionAddendum none

# no default banner path
#Banner none

# Allow client to pass locale environment variables[m
[38;5;130mAcceptEnv[m LANG LC_[35m*[m

[34m# override default of no subsystems[m[20;60H105,4[9C92%/roo[20;60H[K[20;5H[?25ht[?25l[10;7H[7m[34mt[m[20;60H105,4[9C92%[20;60H[K[20;6H[?25h[?25l[10;4H[34mroot[m[20;60H105,4[9C92%[10;4H[?25h[?25l[20;50Hn[10;4H[20;50H[K[20;1H[31msearch hit BOTTOM, continuing at TOP[m/root[20;6H[K[20;1H[31msearch hit BOTTOM, continuing at TOP[10;4H[m[20;60H105,4[9C92%[20;60H[K[20;60H105,4[9C92%[10;4H[?25h[?25l[20;50Hn[10;4H[20;1H/root[20;6H[K[20;1H[31msearch hit BOTTOM, continuing at TOP[m/root[20;6H[K[20;1H[31msearch hit BOTTOM, continuing at TOP[10;4H[m[20;60H105,4[9C92%[20;60H[K[20;60H105,4[9C92%[10;4H[?25h[?25l[20;50H~@k[10;4H[20;50H   [9;4H[20;62H4[9;4H[?25h[?25l[20;50H~@k[9;4H[20;50H   [8;4H[20;62H3[8;4H[?25h[?25l[20;50H~@k[8;4H[20;50H   [7;4H[20;62H2[7;4H[?25h[?25l[20;50H~@k[7;4H[20;50H   [6;4H[20;62H1[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#TCPKeepAlive yes[m[20;1H[K[20;60H100,4[9C91%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#PrintLastLog yes[m[20;60H[K[20;60H99,4[10C90%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[38;5;130mPrintMotd[m [36mno[m[20;60H[K[20;60H98,4[10C89%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#PermitTTY yes[m[20;60H[K[20;60H97,4[10C88%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#X11UseLocalhost yes[m[20;60H[K[20;60H96,4[10C87%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#X11DisplayOffset 10[m[20;60H[K[20;60H95,4[10C86%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[38;5;130mX11Forwarding[m [36myes[m[20;60H[K[20;60H94,4[10C85%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#GatewayPorts no[m[20;60H[K[20;60H93,4[10C84%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#AllowTcpForwarding yes[m[20;60H[K[20;60H92,4[10C83%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#AllowAgentForwarding yes[m[20;60H[K[20;60H91,4[10C82%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[20;60H[K[20;60H90,4[10C81%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[38;5;130mUsePAM[m [36myes[m[20;60H[K[20;60H89,4[10C80%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# and ChallengeResponseAuthentication to 'no'.[m[20;60H[K[20;60H88,4[10C79%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# PAM authentication, then enable this but set PasswordAuthentication[m[20;60H[K[20;60H87,4[10C78%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# If you just want the PAM account and session checks to run without[m[20;60H[K[20;60H86,4[10C77%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;1H[1;19r[1;1H[L[1;20r[1;1H[34m# the setting of "PermitRootLogin without-password".[m[20;60H[K[20;60H85,0-1[8C76%[6;1H[?25h[?25l[20;50H~@k[6;1H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# PAM authentication via ChallengeResponseAuthentication may bypass[m[20;60H[K[20;60H84,4[10C75%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# PasswordAuthentication.  Depending on your PAM configuration,[m[20;60H[K[20;60H83,4[10C74%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# be allowed through the ChallengeResponseAuthentication and[m[20;60H[K[20;60H82,4[10C73%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# and session processing. If this is enabled, PAM authentication will[m[20;60H[K[20;60H81,4[10C72%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# Set this to 'yes' to enable PAM authentication, account processing,[m[20;60H[K[20;60H80,4[10C71%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[20;60H[K[20;60H79,4[10C70%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#GSSAPIKeyExchange no[m[20;60H[K[20;60H78,4[10C69%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#GSSAPIStrictAcceptorCheck yes[m[20;60H[K[20;60H77,4[10C68%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#GSSAPICleanupCredentials yes[m[20;60H[K[20;60H76,4[10C67%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#GSSAPIAuthentication no[m[20;60H[K[20;60H75,4[10C66%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;1H[1;19r[1;1H[L[1;20r[1;1H[34m# GSSAPI options[m[20;60H[K[20;60H74,0-1[8C66%[6;1H[?25h[?25l[20;50H~@k[6;1H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[20;60H[K[20;60H73,4[10C65%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#KerberosGetAFSToken no[m[20;60H[K[20;60H72,4[10C64%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#KerberosTicketCleanup yes[m[20;60H[K[20;60H71,4[10C63%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#KerberosOrLocalPasswd yes[m[20;60H[K[20;60H70,4[10C62%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#KerberosAuthentication no[m[20;60H[K[20;60H69,4[10C61%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;1H[1;19r[1;1H[L[1;20r[1;1H[34m# Kerberos options[m[20;60H[K[20;60H68,0-1[8C60%[6;1H[?25h[?25l[20;50H~@k[6;1H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[20;60H[K[20;60H67,4[10C59%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[38;5;130mChallengeResponseAuthentication[m [36mno[m[20;60H[K[20;60H66,4[10C58%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# some PAM modules and threads)[m[20;60H[K[20;60H65,4[10C57%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# Change to yes to enable challenge-response passwords (beware issues with[m[20;60H[K[20;60H64,4[10C56%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[20;60H[K[20;60H63,4[10C55%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;1H[1;19r[1;1H[L[1;20r[1;1H[34m#PermitEmptyPasswords no[m[20;60H[K[20;60H62,0-1[8C54%[6;1H[?25h[?25l[20;50H~@k[6;1H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#PasswordAuthentication yes[m[20;60H[K[20;60H61,4[10C53%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# To disable tunneled clear text passwords, change to no here![m[20;60H[K[20;60H60,4[10C52%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[20;60H[K[20;60H59,4[10C51%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;1H[1;19r[1;1H[L[1;20r[1;1H[34m#IgnoreRhosts yes[m[20;60H[K[20;60H58,0-1[8C50%[6;1H[?25h[?25l[20;50H~@k[6;1H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# Don't read the user's ~/.rhosts and ~/.shosts files[m[20;60H[K[20;60H57,4[10C49%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#IgnoreUserKnownHosts no[m[20;60H[K[20;60H56,4[10C48%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# HostbasedAuthentication[m[20;60H[K[20;60H55,4[10C47%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;1H[1;19r[1;1H[L[1;20r[1;1H[34m# Change to yes if you don't trust ~/.ssh/known_hosts for[m[20;60H[K[20;60H54,0-1[8C46%[6;1H[?25h[?25l[20;50H~@k[6;1H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#HostbasedAuthentication no[m[20;60H[K[20;60H53,4[10C45%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# For this to work you will also need host keys in /etc/ssh/ssh_known_hosts[m[20;60H[K[20;60H52,4[10C44%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[20;60H[K[20;60H51,4[10C43%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#AuthorizedKeysCommandUser nobody[m[20;60H[K[20;60H50,4[10C42%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#AuthorizedKeysCommand none[m[20;60H[K[20;60H49,4[10C41%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[20;60H[K[20;60H48,4[10C40%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#AuthorizedPrincipalsFile none[m[20;60H[K[20;60H47,4[10C39%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;1H[1;19r[1;1H[L[1;20r[20;60H[K[20;60H46,0-1[8C38%[6;1H[?25h[?25l[20;50H~@k[6;1H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#AuthorizedKeysFile     .ssh/authorized_keys .ssh/authorized_keys2[m[20;60H[K[20;60H45,4[10C37%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# Expect .ssh/authorized_keys2 to be disregarded by default in future.[m[20;60H[K[20;60H44,4[10C36%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;1H[1;19r[1;1H[L[1;20r[20;60H[K[20;60H43,0-1[8C35%[6;1H[?25h[?25l[20;50H~@k[6;1H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#PubkeyAuthentication yes[m[20;60H[K[20;60H42,4[10C34%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;1H[1;19r[1;1H[L[1;20r[20;60H[K[20;60H41,0-1[8C33%[6;1H[?25h[?25l[20;50H~@k[6;1H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#MaxSessions 10[m[20;60H[K[20;60H40,4[10C33%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#MaxAuthTries 6[m[20;60H[K[20;60H39,4[10C32%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;1H[1;19r[1;1H[L[1;20r[1;1H[34m#StrictModes yes[m[20;60H[K[20;60H38,0-1[8C31%[6;1H[?25h[?25l[20;50H~@k[6;1H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#PermitRootLogin prohibit-password[m[20;60H[K[20;60H37,4[10C30%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;1H[1;19r[1;1H[L[1;20r[1;1H[34m#LoginGraceTime 2m[m[20;60H[K[20;60H36,0-1[8C29%[6;1H[?25h[?25l[20;50H~@k[6;1H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[20;60H[K[20;60H35,4[10C28%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m# Authentication:[m[20;60H[K[20;60H34,4[10C27%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[20;60H[K[20;60H33,4[10C26%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#LogLevel INFO[m[20;60H[K[20;60H32,4[10C25%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [6;4H[1;19r[1;1H[L[1;20r[1;1H[34m#SyslogFacility AUTH[m[20;60H[K[20;60H31,4[10C24%[6;4H[?25h[?25l[20;50H~@k[6;4H[20;50H   [7;4H[20;61H2[7;4H[?25h[?25l[20;50H~@k[7;4H[20;50H   [7;3H[20;63H3[7;3H[?25h[?25l[20;50H~@k[7;3H[20;50H   [7;2H[20;63H2[7;2H[?25h[?25l[20;50H~@k[7;2H[20;50H   [7;1H[20;63H1[7;1H[?25h[?25l[20;50H~@k[7;1H[20;50H   [7;1H[?25h[?25l[20;50Hy[7;1H[?25h[?25l[20;51Hy[7;1H[20;50H  [7;1H[?25h[?25l[20;50HP[7;1H[20;50H [7;1H[7;19r[7;1H[L[1;20r[7;1H[34m#PermitRootLogin prohibit-password[m[20;60H[K[20;60H32,1[10C24%[7;1H[?25h[?25l[20;50H~@k[7;1H[20;50H   [8;1H[20;61H3[8;1H[?25h[?25l[20;50Hx[8;1H[20;50H [8;1H[20;50Hdl[8;1H[20;50H  [8;1H[38;5;130mPermitRootLogin[m [36mprohibit-password[m[8;34H[K[8;1H[?25h[?25l[20;50H~@k[8;1H[20;50H   [8;2H[20;63H2[8;2H[?25h[?25l[20;50H~@k[8;2H[20;50H   [8;3H[20;63H3[8;3H[?25h[?25l[20;50H~@k[8;3H[20;50H   [8;4H[20;63H4[8;4H[?25h[?25l[20;50H~@k[8;4H[20;50H   [8;5H[20;63H5[8;5H[?25h[?25l[20;50H~@k[8;5H[20;50H   [8;6H[20;63H6[8;6H[?25h[?25l[20;50H~@k[8;6H[20;50H   [8;7H[20;63H7[8;7H[?25h[?25l[20;50H~@k[8;7H[20;50H   [8;8H[20;63H8[8;8H[?25h[?25l[20;50H~@k[8;8H[20;50H   [8;9H[20;63H9[8;9H[?25h[?25l[20;50H~@k[8;9H[20;50H   [8;10H[20;63H10[8;10H[?25h[?25l[20;50H~@k[8;10H[20;50H   [8;11H[20;64H1[8;11H[?25h[?25l[20;50H~@k[8;11H[20;50H   [8;12H[20;64H2[8;12H[?25h[?25l[20;50H~@k[8;12H[20;50H   [8;13H[20;64H3[8;13H[?25h[?25l[20;50H~@k[8;13H[20;50H   [8;14H[20;64H4[8;14H[?25h[?25l[20;50H~@k[8;14H[20;50H   [8;15H[20;64H5[8;15H[?25h[?25l[20;50H~@k[8;15H[20;50H   [8;16H[20;64H6[8;16H[?25h[?25l[20;50H~@k[8;16H[20;50H   [8;17H[20;64H7[8;17H[?25h[?25l[20;50HD[8;17H[20;50H [8;17H[20;50Hd$[8;17H[20;50H  [8;16H[8;17H[K[20;64H6[8;16H[?25h[?25l[20;50Ha[8;16H[20;50H [8;17H[20;1H[1m-- INSERT --[m[20;60H[K[20;60H33,17[9C24%[8;17H[?25h[?25ly[20;64H8[8;18H[?25h[?25le[20;64H9[8;19H[?25h[?25l[36myes[m[20;63H20[8;20H[?25h[20;1H[K[8;19H[?25l[20;50H^[[8;19H[20;50H  [8;20H[20;60H33,19[9C24%[8;19H[?25h[?25l[20;50HZ[8;19H[?25h[?25l[20;51HZ[8;19H[?2004l[20;1H"/etc/ssh/sshd_config"[20;50H[K[20;24H123L, 3284C written
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;root@tubuntu1804: /optroot@tubuntu1804:/opt# systemctl restart sshd
]0;root@tubuntu1804: /optroot@tubuntu1804:/opt# ls -l 
total 20540
-rw-r--r-- 1 root root 21031765 Jun 28 19:26 [0m[01;31msadmin_0.86_20180628.tgz[0m
]0;root@tubuntu1804: /optroot@tubuntu1804:/opt# 
]0;root@tubuntu1804: /optroot@tubuntu1804:/opt# 
]0;root@tubuntu1804: /optroot@tubuntu1804:/opt# 
]0;root@tubuntu1804: /optroot@tubuntu1804:/opt# mkdir sadmin
]0;root@tubuntu1804: /optroot@tubuntu1804:/opt# cd sadmin
]0;root@tubuntu1804: /opt/sadminroot@tubuntu1804:/opt/sadmin# tar -xzf ../sadmin_0.86_20180628.tgz 
]0;root@tubuntu1804: /opt/sadminroot@tubuntu1804:/opt/sadmin# cd[K[Kls -l
total 88
drwxrwxr-x  2 601 601  4096 Jun 24 16:54 [0m[01;34mbin[0m
drwxrwxr-x  2 601 601  4096 Jun 28 19:23 [01;34mcfg[0m
drwxrwxr-x  8 601 601  4096 Jun 28 19:23 [01;34mdat[0m
drwxrwxr-x  3 601 601  4096 Jun 28 17:06 [01;34mdoc[0m
drwxrwxr-x  3 601 601  4096 Jun  6 15:28 [01;34mlib[0m
-r--r--r--  1 601 601 35141 Jun 28 19:23 LICENSE
drwxrwxr-x  2 601 601  4096 Jun 28 19:23 [01;34mlog[0m
drwxrwxr-x  6 601 601  4096 Jun 24 15:00 [01;34mpkg[0m
-rw-rw-r--  1 601 601  3292 Jun 28 19:23 README.md
drwxrwxr-x  6 601 601  4096 Jun 28 19:23 [01;34msetup[0m
drwxrwxr-x  2 601 601  4096 Jun 23 13:06 [01;34msys[0m
drwxrwxr-x  2 601 601  4096 Jun 28 19:23 [01;34mtmp[0m
drwxrwxr-x  6 601 601  4096 Jun 28 19:23 [01;34musr[0m
drwxrwxr-x 13 601 601  4096 Jun 28 19:23 [01;34mwww[0m
]0;root@tubuntu1804: /opt/sadminroot@tubuntu1804:/opt/sadmin# 
]0;root@tubuntu1804: /opt/sadminroot@tubuntu1804:/opt/sadmin# 
]0;root@tubuntu1804: /opt/sadminroot@tubuntu1804:/opt/sadmin# 
]0;root@tubuntu1804: /opt/sadminroot@tubuntu1804:/opt/sadmin# 
]0;root@tubuntu1804: /opt/sadminroot@tubuntu1804:/opt/sadmin# setup/setup.sh 
[3J[H[2J ____    _    ____  __  __ ___ _   _ 
/ ___|  / \  |  _ \|  \/  |_ _| \ | |
\___ \ / _ \ | | | | |\/| || ||  \| |
 ___) / ___ \| |_| | |  | || || |\  |
|____/_/   \_\____/|_|  |_|___|_| \_|
                                     
SADMIN Pre-Installation Verification Version 1.5
---------------------------------------------------------------------------
Checking if 'lsb_release' is installed ...  Done 
Checking if 'python3' is installed ...  Done 
All Verifications Pass ...


SADMIN Setup V2.9
---------------------------------------------------------------------------
Enter directory path where your install SADMIN : /opt/sadmin
SADMIN Environment variable is now set to /opt/sadmin
  - The line below is now in /etc/profile.d/sadmin.sh and in /etc/environment
  - SADMIN=/opt/sadmin
  - This will make sure 'SADMIN' environment variable is set upon reboot
  - Initial SADMIN configuration file (/opt/sadmin/cfg/sadmin.cfg) in place
 
 
----------
[36m[1m[SADM_HOST_TYPE][0m
Specify if this host is to become a SADMIN [C]lient or [S]erver.
Host will be a SADMIN [S]erver or a [C]lient [[1mC[0m] : s
[36m[1m[SADM_HOST_TYPE] set to 'S' in /opt/sadmin/cfg/sadmin.cfg[0m
 
----------
[36m[1m[SADM_CIE_NAME][0m
This name that will appear in the heading of the web interface
and on some report and email that SADMIN produce.
Enter your Company Name : Batcave
[36m[1m[SADM_CIE_NAME] set to 'Batcave' in /opt/sadmin/cfg/sadmin.cfg[0m
 
----------
[36m[1m[SADM_MAIL_ADDR][0m
This field specify the email address of the system administrator.
It is used by SADMIN Tools to send various email and alert.
Enter System Administrator Email : batman@batcave.com
[36m[1m[SADM_MAIL_ADDR] set to 'batman@batcave.com' in /opt/sadmin/cfg/sadmin.cfg[0m
 
----------
[36m[1m[SADM_MAIL_TYPE][0m
Default option for sending email after a script is finish.
Can be overridden by changing SADM_MAIL_TYPE in SADMIN section of your script.
[0] = Never send email.
[1] = Only send the log when script finish with error (Default)
[2] = Only send the log when script finish with success.
[3] = Always send the script log when script finish.
Enter default email type [[1m1[0m] : 
[36m[1m[SADM_MAIL_TYPE] set to '1' in /opt/sadmin/cfg/sadmin.cfg[0m
 
----------
[36m[1m[SADM_DOMAIN][0m
Enter the default Domain Name to use when you will be adding a new server.
Default domain name [[1mmaison.ca[0m] : 
[36m[1m[SADM_DOMAIN] set to 'maison.ca' in /opt/sadmin/cfg/sadmin.cfg[0m
 
----------
[36m[1m[SADM_SERVER][0m
Enter the name of the SADMIN Server - (MUST be a fully qualified domain name)
This name can't be an alias in the DNS, it must be the real name of the server.
SADMIN server name in /etc/hosts must not use a loopback address, but a real IP.
If you use /etc/hosts, the FQDN name must be put first like below:
192.168.1.17    batserver.batcave.com batserver

It MUST be the result of the 'hostname' command on the SADMIN server.
Enter SADMIN (FQDN) server name [[1mtubuntu1804.maison.ca[0m] : 
Validating server name ...
[36m[1m[SADM_SERVER] set to 'tubuntu1804.maison.ca' in /opt/sadmin/cfg/sadmin.cfg[0m
 
----------
[36m[1m[SADM_MAX_LOGLINE][0m
Every time a script (python or bash script) that use SADMIN Tools is run,
it produce a log, in the dedicated directory ${SADMIN}/log.

    - The name of the Log file is "[HOSTNAME]_[NAME_OF_SCRIPT].log".
    - Log file are cumulative by default, but it can be overriden if you want.
    - This number indicate the maximum of lines you want to keep in your log.
    - This help keeping our log to a reasonnable size.

Maximum number of lines in LOG file [[1m1000[0m] : 
[36m[1m[SADM_MAX_LOGLINE] set to '1000' in /opt/sadmin/cfg/sadmin.cfg[0m
 
----------
[36m[1m[SADM_MAX_RCHLINE][0m
When a (python or shell) script using the SADMIN tools start and ends,
it record the date/time and the ending status of your script in what we call
a RCH file ([R]eturn [C]ode [H]istory] file).

     - The RCH file name are "[HOSTNAME]_[NAME_OF_SCRIPT].rch"
     - They are located in the directory ${SADM_BASE_DIR}/dat/rch.
     - This number represent the maximum number of lines that each RCH file can contain.

A value of 100 lines is recommended.
This will keep an history of 50 days and is the default value.
Maximum number of lines in RCH file [[1m100[0m] : 
[36m[1m[SADM_MAX_RCHLINE] set to '100' in /opt/sadmin/cfg/sadmin.cfg[0m
 
----------
[36m[1m[SADM_GROUP][0m
This is the primary user group that have access to all SADMIN directories.
    - All files in the $SADMIN directories are own by this group.
    - If others users need to access or used scripts located in $SADMIN,
      they must be part of this group.
    - The SADMIN default user group is 'sadmin'.

Enter SADMIN User Group [[1msadmin[0m] : 
Creating group sadmin
[36m[1m[SADM_GROUP] set to 'sadmin' in /opt/sadmin/cfg/sadmin.cfg[0m
 
----------
[36m[1m[SADM_USER][0m
Main SADMIN user that have access to all SADMIN directories and files.
    - This user will be assign to the SADMIN user group you just specified.
    - The SADMIN default user name is 'sadmin'.

Enter the default user name [[1msadmin[0m] : 
Creating user sadmin
[36m[1m[SADM_USER] set to 'sadmin' in /opt/sadmin/cfg/sadmin.cfg[0m
 
----------
[36m[1m[SADM_SSH_PORT][0m
TCP/IP Port used for SSH.
SSH port number to connect to client [[1m22[0m] : 32
[36m[1m[SADM_SSH_PORT] set to '32' in /opt/sadmin/cfg/sadmin.cfg[0m
 
----------
[36m[1m[SADM_NETWORK1][0m
Every day SADMIN will check the IP utilisation on your network.
    - The result will be visible on SADMIN network web page.
    - You will be able to tell what IP are in use or not (respond to ping),
      and what DNS name each IP has (if any).
    - It will facilitate, the clean up of your DNS and IP usage.
    - Network should be specify in this form, '192.168.1.0"

Enter the network IP [[1m192.168.1.0[0m] : 
 
----------
[36m[1m[SADM_NETMASK1][0m
Every day SADMIN will check the IP utilisation on your network.
    - The result will be visible on SADMIN network web page.
    - You will be able to tell what IP are in use or not (respond to ping),
      and what DNS name each IP has (if any).
    - It will facilitate, the clean up of your DNS and IP usage.
    - Netmask should specify the number bits use (1-30) (Default 24)

Enter the Network Netmask [1-30] [[1m24[0m] : 
[36m[1m[SADM_NETWORK1] set to '192.168.1.0/24' in /opt/sadmin/cfg/sadmin.cfg[0m
 
--------------------
[36m[1mChecking SADMIN Client Package requirement[0m
 
Running apt-get update... Done 
Checking for lsb-release ...  Ok 
Checking for nmon ... Installing nmon ...  Done 
Checking for ethtool ...  Ok 
Checking for net-tools ...  Ok 
Checking for sudo ...  Ok 
Checking for lshw ...  Ok 
Checking for parted ...  Ok 
Checking for mailutils ... Installing mailutils ...  Done 
Checking for gawk ...  Ok 
Checking for facter ... Installing facter ...  Done 
Checking for bc ...  Ok 
Checking for openssh-client ...  Ok 
Checking for dmidecode ...  Ok 
Checking for perl-base ...  Ok 
Checking for libdatetime-perl libwww-perl ... Installing libdatetime-perl libwww-perl ...  Done 
Checking for util-linux ...  Ok 
Checking for python pip3 command ... Installing python3 pip3
Running apt-get update... Done 
Installing python3-pip Done 
Installing python3 PyMySQL module (pip3 install PyMySQL) ...  Done 

--------------------
[36m[1mCreating 'sadmin' user sudo file[0m
  - Creating SADMIN sudo file (/etc/sudoers.d/033_sadmin-nopasswd)
  - Permission on sudo file changed successfully
  - Ownership of sudo file changed successfully

--------------------
[36m[1mCreating SADMIN client crontab file (/etc/cron.d/sadm_client)[0m
  - Client Crontab Permission changed successfully
  - Ownership of client crontab changed successfully

----------
[36m[1mAdding 'sadmin' to /etc/hosts file[0m
 
--------------------
[36m[1mChecking SADMIN Server Package requirement[0m
 
Running apt-get update... Done 
Checking for apache2 apache2-utils libapache2-mod-php ... Installing apache2 apache2-utils libapache2-mod-php ...  Done 
Checking for rrdtool ... Installing rrdtool ...  Done 
Checking for fping monitoring-plugins-standard ... Installing fping monitoring-plugins-standard ...  Done 
Checking for arp-scan ... Installing arp-scan ...  Done 
Checking for php php-mysql php-common php-cli  ... Installing php php-mysql php-common php-cli  ...  Done 
Checking for mariadb-server mariadb-client ... Installing mariadb-server mariadb-client ...  Done 

--------------------
[36m[1mChecking Firewall Information[0m
  - Checking Firewall ... Not installed
  
--------------------
[36m[1mSetup SADMIN MariaDB Database[0m
  
ReStarting MariaDB Service - systemctl restart mariadb.service
 Done 
Enabling MariaDB Service - systemctl enable mariadb.service
 Done 
 
----------
[36m[1m[SADM_ROOT][0m
This is where you need to specify the MariaDB Database 'root' user password.
If the password isn't currently set, it will be set to the one you will enter.
If the password is currently set, we will test Database connection using it.
Enter MariaDB Database 'root' user password : 
[36m[1mAccess to Database is working ...[0m
  
----------
[36m[1mLoading Initial Data in SADMIN Database ... [0m
 Done 

Checking if 'sadmin' user exist in MariaDB ...  
----------
[36m[1m[SADM_RW_DBPWD][0m
Password read/write user "sadmin" on the SADMIN database.
You can give this password to people who have permission to update
server information in the database.
Enter Read/Write 'sadmin' database user password : 
Creating 'sadmin' user ...  Done 
Checking if 'squery' user exist in MariaDB ...  
----------
[36m[1m[SADM_RO_DBPWD][0m
Password of the read only user "squery" on the 'sadmin' database
Give this password to people you want to consult server information,
but don't want them to modify any information in the Database.
Enter 'squery' database user password : 
Creating 'squery' user ...  Done 

[36m[1mInserting server 'tubuntu1804' in Database ... [0m
 Done
  
ReStarting MariaDB Service - systemctl restart mariadb.service
 Done 
  
  
--------------------
[36m[1mSetup SADMIN Web Site[0m
  
  - Making sure Web Server is started - systemctl restart apache2
  - Apache process user name  : www-data
  - Apache process group name : www-data
  - Disable default apache configuration
  - SADMIN Web Site enable
  - SADMIN Web site configuration now in place (/etc/apache2/sites-enabled/sadmin.conf)
  - Record Apache Process Owner in SADMIN configuration (/opt/sadmin/cfg/sadmin.cfg)
  - Setting Owner/Group on SADMIN WebSite(/opt/sadmin/www) ...  Done 
  - Setting Permission on SADMIN WebSite (/opt/sadmin/www) ...  Done 
  - Setting Permission on SADMIN WebSite images (/opt/sadmin/www/images) ...  Done 
  - Web Server Restarting - systemctl restart apache2 ... Done 
  - Enabling Web Server Service - systemctl enable apache2 ...  Done 

--------------------
[36m[1mCreating SADMIN server crontab file (/etc/cron.d/sadm_server)[0m
  - Server crontab permission changed successfully
  - Ownership of server crontab changed successfully
  
  
--------------------
[36m[1mRun SADMIN Daily scripts once to feed Database and Web Interface[0m
  
Running Client Scripts
Running '/opt/sadmin/bin/sadm_create_sysinfo.sh' script ...  Done
Running '/opt/sadmin/bin/sadm_client_housekeeping.sh' script ...  Done
Running '/opt/sadmin/bin/sadm_dr_savefs.sh' script ...  Done
Running '/opt/sadmin/bin/sadm_cfg2html.sh' script ...  Done
Running '/opt/sadmin/bin/sadm_sysmon.pl' script ...  Done
  
Running Server Scripts
Running '/opt/sadmin/bin/sadm_fetch_clients.sh' script ...  Done
Running '/opt/sadmin/bin/sadm_daily_farm_fetch.sh' script ...  Done
Running '/opt/sadmin/bin/sadm_server_housekeeping.sh' script ...  Done
Running '/opt/sadmin/bin/sadm_subnet_lookup.py' script ...  Done
Running '/opt/sadmin/bin/sadm_database_update.py' script ...  Done






[36m[1mSADMIN TOOLS - VERSION sadmin_0.86_20180628 - Successfully Installed[0m
===========================================================================
You need to logout and log back in before using SADMIN Tools,
or type the following command (The dot and the space are important)
[36m[1m. /etc/profile.d/sadmin.sh[0m
This will make sure SADMIN environment variable is define.
===========================================================================
[36m[1m
USE THE WEB INTERFACE TO ADMINISTRATE YOUR LINUX SERVER FARM
[0m
The Web interface is available at :
http://sadmin.maison.ca or http://tubuntu1804.maison.ca
  - For http://sadmin.maison.ca to work, 'sadmin.maison.ca' must be define in your DNS or /etc/hosts file.
  - Use it to add, update and delete server in your server farm.
  - View performance graph of your servers up to two years in the past.
  - If you want, you can automatically update your server O/S at the time and day you scheduled.
  - Have server configuration on hand, usefull in case of a Disaster Recovery.
  - View your servers farm subnet utilization and see what IP are free to use.
  - There's still a lot more to come.
===========================================================================
[36m[1m
CREATE YOUR OWN SCRIPT USING SADMIN LIBRARIES
[0m
To create your own script using the SADMIN tools, you may want to take a look 
at the templates, run them and view their code.
  - bash shell script      : /opt/sadmin/bin/sadm_template.sh 
  - python script          : /opt/sadmin/bin/sadm_template.py 
 
For example, to create your own shell script :
  # copy /opt/sadmin/bin/sadm_template.sh /opt/sadmin/usr/bin/newscript.sh
modify it to your need, run it and see the results.
===========================================================================
[36m[1m
VIEW SADMIN FUNCTIONS IN ACTION AND LEARN HOW TO USE THEM BY RUNNING :
[0m
  - /opt/sadmin/bin/sadmlib_std_demo.sh 
  - /opt/sadmin/bin/sadmlib_std_demo.py.
===========================================================================
[36m[1m
USE THE SADMIN WRAPPER TO RUN YOUR EXISTING SCRIPT
[0m
  - # $SADMIN/bin/sadm_wrapper.sh $SADMIN/usr/bin/yourscript.sh

===========================================================================
[36m[1mENJOY !![0m
You have new mail in /var/mail/root
]0;root@tubuntu1804: /opt/sadminroot@tubuntu1804:/opt/sadmin# exit
exit

Script done on 2018-06-28 19:34:45+0000
