#===================================================================================================
# SADMIN Alert Group file definition  v 2.2
#---------------------------------------------------------------------------------------------------
# Note : All scripts (Shell,Python,php), configuration file and screen output are formatted to 
#        have and use a 100 characters per line. Comments in script always begin at column 73. 
#        You will have a better experience, if you set screen width to have at least 100 Char. wide.
# 
#---------------------------------------------------------------------------------------------------
# This file is use when an Error or a Warning is detected by SADM System Monitor or when a script
# need to send an Alert. The scripts (Shell and Python) and SADMIN System Monitor sent alert to
# an alert group defined in this file.
#
# - If the Alert Group file ($SADMIN/cfg/alert_group.cfg) file doesn't exist then it's created 
#   from the default Alert Group file ($SADMIN/cfg/.alert_group.cfg).
# - Blank line or line beginning with a pound sign (#) are ignored.
# - Field delimiter is a space. 
# - Each Alert Group Name MUST be unique and cannot contain spaces.
#
# ***FIRST COLUMN - GROUP NAME***
#   - Alert Group name is use in the SysMon (hostname.smon) config file to designated who to alert.
#   - Alert Group name MUST be unique within this file and can used up to 15 characters (No Space).
#
#   - USING ALERT GROUP IN SCRIPT (Shell/Python)
#       - You specify the Alert Group by changing the line(s) below in the SADMIN
#         section at the beginning of your script (using the template sadm_template.[sh,py]).
#         Shell Script :
#           export SADM_ALERT_TYPE=3                # 0=None 1=AlertOnErr 2=AlertOnOK 3=Allways
#           export SADM_ALERT_GROUP="default"       # AlertGroup Used for Alert (alert_group.cfg)
#         Python Script :
#           st.cfg_alert_type   = 1                 # 0=NoMail 1=OnlyOnError 2=OnlyOnSucces 3=Allways
#           st.cfg_alert_group  = "default"         # AlertGroup used for Alert (alert_group.cfg)
#
#   - USING ALERT GROUP IN SADMIN SYSTEM MONITOR
#       - You specify the Alert Group you want to use for System Monitor Warning in column J and 
#         for Error in column K. In the example below, we use alerting group 'sdevops' for Warning
#         and 'sprod' for Error.
#       - Example of a ping test in line a hostname.smon of a client.
#           Column 1            2 3  4  5  6    7   8   9 A B C D E F G    H       I     J    K   L
#           ping_www.google.com 0 = 01 00 000 0000 0000 Y Y Y Y Y Y Y Y 00000000 0000 sdevops sprod -
#       - If the Alert group used in SysMon configuration don't exist in this file, the default group 
#         ('default') is use.
#
# SECOND COLUMN 
#   - This column can only have the values a 'm', 'c', 't' and a 's' (Lowercase/Uppercase allowed).
#   - If it contain other value then 'm' is assumed.
#   - This column specify the alert group type :
#       - 'm' Specify a Mail Group and that the third field contain email address(es).
#       - 's' Specify a Slack Group and that the third field contain Slack channel(s).
#             Each Slack Channel MUST be defined in SADMIN Slack Channel File 
#             ($SADMIN/cfg/alert_slack.cfg).
#             For now only one slack channel can be use per group (change will come)
#       - 'c' Specify a cellular name. The third field contain cellular number.
#       - 't' Specify a SMS (Texto) Group. The third field contain cellular name part of the group.
#             
# THIRD COLUMN 
#   - For Alert of type 'm' (Email) : 
#       - Email address(es) corresponding to the mail group in column one.
#       - You can specify more than one email address, they must be separated by a comma.
#   - For Alert of type 's' (Slack) :
#       - Slack Channel defined in SADMIN Slack Channel File.
#       - Channel name used MUST be define in the Slack Channel file ($SADMIN/cfg/alert_slack.cfg).
#       - For now only one slack channel can be use per group (change will come)
#   - For Alert of type 'c' (Cellular Number) : 
#       - Third column is the cellular number corresponding to the cellular name in column one.
#   - For Alert of type 't' (Texto, SMS) : 
#       - Third column is use to group cellular number together to form an alert Group.
#         If more than one is specified, they must be separated by a comma.
#
#===================================================================================================

# Alert Group 'default' (MUST always exist)
# 1st column : Group Name : 'default' 
# 2nd column : Group Type : [s]=SlackChannel, [m]=EmailAddress, [c]=CellularNumber, [t]=TextoGroup
# 3nd column : Group Value: Value depend on the group type (See description below)
#default            c   5147577706
#default            s   sadm_prod
#default            t   sysadmin_sms
default             m   batman@batcave.com,robin@batcave.com


# Slack Alert Group 
# 1st column : Group Name : Name use in your script and in System Monitor Config file.
# 2nd column : Group Type : 's' Use Slack api to send the alert.
# 3th column : Group Value: Channel name defined in Slack Alert file ($SADMIN/cfg/alert_slack.cfg).
slack_sdev          s   sadm_dev
slack_sprod         s   sadm_prod
slack_sinfo         s   sadm_info
slack_sdevops       s   sadm_devops


# Email Alert Group 
# 1st column : Group Name : Name use in your script and in the System Monitor Config file.
# 2nd column : Group Type : 'm' Use the mail system to send the alert.
# 3th column : Group Value: Email address(es) you want to send the alert.
#                           If more than one is specified, they must be separated by a comma.
mail_sysadmin       m   sysadmin@acme.com
mail_webteam        m   webteam@acme.com,sysadmin@acme.com 
mail_support        m   batman@batcave.com,robin@batcave.com 


# Cellular number of individual 
# 1st column : Group Name : Name you give to identify cellular number (No space in group name).
# 2nd column : Group Type : 'c' cellular definition line.
# 3th column : Group Value: Actual cellular number used to send the alert (Specify only one).
#                           If you want more use the SMS (Texto) alert group below.
cell_john_doe       c   5147577706
cell_robert_smith   c   4187570067
cell_support        c   5147570068
cell_jerry_calder	c   5147779302
cell_diane_watson   c   5147779303


# SMS (Texto) Alert Group 
# 1st column : Group Name : SMS (Texto) group name (No space in group name)
# 2nd column : Group Type : 't' SMS (Texto) group line definition.
# 3th column : Group Value: Cellular(s) name(s) previously defined used to send the alert.
#                           If more than one is specified, they must be separated by comma.
sms_sysadmin        t   cell_john_doe  
sms_emergency       t   cell_john_doe,cell_support,cell_robert_smith,cell_diane_watson
sms_webteam	        t   cell_diane_watson

